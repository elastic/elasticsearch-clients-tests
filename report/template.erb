# Tests report

Endpoints that are currently being tested are marked as done and link to the test where they're being used.

* [Endpoints in Stack (elasticsearch-specification)](#stack): <%= @reporter.apis[:specification].count %>
* [Endpoints in Serverless](#serverless): <%= @reporter.serverless_apis.count %>
* [Endpoints in Stack JSON spec](#endpoints-in-stack-json-spec): <%= @reporter.apis[:json].count %>
* Elasticsearch Stack - **Tested**: <%= @reporter.stack_tested_count %> | **Untested**: <%= @reporter.stack_untested_count %> ![](https://geps.dev/progress/<%= @reporter.coverage_stack %>)
* Elasticsearch Serverless - **Tested** <%= @reporter.serverless_tested_count %> | **Untested**: <%= @reporter.serverless_untested_count %> ![](https://geps.dev/progress/<%= @reporter.coverage_serverless %>)
* [APIs in JSON spec and not in elasticsearch-specification](#apis-in-json-spec-and-not-elasticsearch-specification)

## Endpoints in elasticsearch-specification

### Serverless

<% @reporter.serverless_apis.each do |api| -%>
  <%= @reporter.display_endpoint(api['name'], :serverless) %>
<% end %>

### Stack

<% @reporter.stack_apis.each do |api| -%>
  <%= @reporter.display_endpoint(api['name'], :stack) %>
<% end %>

## Endpoints in stack JSON spec

<%=  @reporter.apis[:json].map { |a| "`#{a}`" }.join(', ') -%>

<% difference = @reporter.apis[:json] - @reporter.apis[:specification].map { |a| a['name'] } -%>
<%  unless difference.empty? -%>
## APIs in JSON spec and not elasticsearch-specification
<%= difference.join(', ') -%>
<% end -%>
## Internal APIs (Not tracked)
<%= @reporter.apis[:internal].map { |a| "`#{a}`" }.join(', ') -%>

